(window.webpackJsonp=window.webpackJsonp||[]).push([[2],[,,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(14);n.n(r).a},,,,,,,function(e,t,n){"use strict";var r=n(16);n.n(r).a},function(e,t,n){"use strict";var r=n(17);n.n(r).a},function(e,t,n){"use strict";var r=n(18);n.n(r).a},function(e,t,n){"use strict";var r=n(19);n.n(r).a},function(e,t,n){"use strict";var r=n(20);n.n(r).a},function(e,t,n){"use strict";var r=n(21);n.n(r).a},function(e,t,n){"use strict";var r=n(22);n.n(r).a},function(e,t,n){"use strict";var r=n(23);n.n(r).a},function(e,t,n){"use strict";var r=n(24);n.n(r).a},function(e,t,n){"use strict";var r=n(25);n.n(r).a},function(e,t,n){"use strict";var r=n(26);n.n(r).a},,,function(e,t,n){"use strict";n.r(t);var r=n(6),a={name:"App"},s=(n(66),n(2)),i=Object(s.a)(a,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"vue-backend-app"}},[t("router-view")],1)}),[],!1,null,null,null).exports,o=n(30),c=n(0),u=n.n(c),l=n(1),p=n.n(l),m=n(5),d=(n(7),n(3)),f=n.n(d),v=n(9),h=n.n(v);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=(window.crep?window.crep.rest_url:"http://127.0.0.1:8000/wp-json/")+"crep/v1/";function w(){return k.apply(this,arguments)}function k(){return(k=p()(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe({method:"get",url:"".concat(g,"events")});case 2:return t=e.sent,e.abrupt("return",t.map((function(e){return b(b({},e),{},{id:parseInt(e.id),default_slot_max:parseInt(e.default_slot_max)})})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return y.apply(this,arguments)}function y(){return(y=p()(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe({method:"delete",url:"".concat(g,"events"),data:{ids:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){return E.apply(this,arguments)}function E(){return(E=p()(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe({method:"post",url:"".concat(g,"events"),data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return C.apply(this,arguments)}function C(){return(C=p()(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe({method:"put",url:"".concat(g,"events/").concat(t.id),data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){return j.apply(this,arguments)}function j(){return(j=p()(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe({method:"get",url:"".concat(g,"events/").concat(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return $.apply(this,arguments)}function $(){return($=p()(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe({method:"get",url:"".concat(g,"speakers")});case 2:return t=e.sent,e.abrupt("return",t.map((function(e){return b(b({},e),{},{id:parseInt(e.id)})})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){return R.apply(this,arguments)}function R(){return(R=p()(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe({method:"delete",url:"".concat(g,"speakers"),data:{ids:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return T.apply(this,arguments)}function T(){return(T=p()(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe({method:"post",url:"".concat(g,"speakers"),data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e){return L.apply(this,arguments)}function L(){return(L=p()(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe({method:"put",url:"".concat(g,"speakers/").concat(t.id),data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){return M.apply(this,arguments)}function M(){return(M=p()(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe({method:"get",url:"".concat(g,"speakers/").concat(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return V.apply(this,arguments)}function V(){return(V=p()(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe({method:"get",url:"".concat(g,"tags"),params:{event_id:t}});case 2:return n=e.sent,e.abrupt("return",n.map((function(e){return b(b({},e),{},{id:parseInt(e.id),event_id:parseInt(e.event_id)})})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e){return q.apply(this,arguments)}function q(){return(q=p()(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe({method:"delete",url:"".concat(g,"tags"),data:{ids:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e){return J.apply(this,arguments)}function J(){return(J=p()(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe({method:"post",url:"".concat(g,"tags"),data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e){return U.apply(this,arguments)}function U(){return(U=p()(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe({method:"put",url:"".concat(g,"tags/").concat(t.id),data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e){return Q.apply(this,arguments)}function Q(){return(Q=p()(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe({method:"get",url:"".concat(g,"sessions"),params:{event_id:t}});case 2:return n=e.sent,e.abrupt("return",n.map((function(e){return b(b({},e),{},{id:parseInt(e.id),event_id:parseInt(e.event_id)})})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e){return Z.apply(this,arguments)}function Z(){return(Z=p()(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe({method:"delete",url:"".concat(g,"sessions"),data:{ids:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e){return Y.apply(this,arguments)}function Y(){return(Y=p()(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe({method:"post",url:"".concat(g,"sessions"),data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e){return te.apply(this,arguments)}function te(){return(te=p()(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe({method:"put",url:"".concat(g,"sessions/").concat(t.id),data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e){return re.apply(this,arguments)}function re(){return(re=p()(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe({method:"get",url:"".concat(g,"registrations"),params:{event_id:t}});case 2:return n=e.sent,e.abrupt("return",n.map((function(e){return b(b({},e),{},{id:parseInt(e.id),event_id:parseInt(e.event_id)})})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e){return se.apply(this,arguments)}function se(){return(se=p()(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe({method:"delete",url:"".concat(g,"registrations"),data:{ids:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(e){return oe.apply(this,arguments)}function oe(){return(oe=p()(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe({method:"post",url:"".concat(g,"registrations"),data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e){return ue.apply(this,arguments)}function ue(){return(ue=p()(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe({method:"put",url:"".concat(g,"registrations/").concat(t.id),data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(e){return pe.apply(this,arguments)}function pe(){return(pe=p()(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe({method:"get",url:"".concat(g,"registrations/").concat(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function me(e){return de.apply(this,arguments)}function de(){return(de=p()(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe({method:"get",url:"".concat(g,"seminars"),params:{event_id:t}});case 2:return n=e.sent,e.abrupt("return",n.map((function(e){return b(b({},e),{},{id:parseInt(e.id),event_id:parseInt(e.event_id),number:null!==e.number?parseInt(e.number):e.number,slot_max:null!==e.slot_max?parseInt(e.slot_max):e.slot_max})})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(e){return ve.apply(this,arguments)}function ve(){return(ve=p()(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe({method:"delete",url:"".concat(g,"seminars"),data:{ids:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(e){return _e.apply(this,arguments)}function _e(){return(_e=p()(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe({method:"post",url:"".concat(g,"seminars"),data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(e){return ge.apply(this,arguments)}function ge(){return(ge=p()(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe({method:"put",url:"".concat(g,"seminars/").concat(t.id),data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(e){return ke.apply(this,arguments)}function ke(){return(ke=p()(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe({method:"get",url:"".concat(g,"seminars/").concat(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xe(e){return ye.apply(this,arguments)}function ye(){return(ye=p()(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h()(t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{error:"Bei der Verbindung zum Server ist ein Fehler aufgetreten! Stelle sicher, dass du als Admin eingeloggt bist und versuche es noch einmal."});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}h.a.defaults.headers.common["X-WP-Nonce"]=window.crep?window.crep.nonce:null;var Se=n(28),Ee=n.n(Se);function Oe(e){var t=[];try{t=JSON.parse(e),Array.isArray(t)||(console.error("Input to parseJSONStringArray was not parsed into array correctly!"),t=[])}catch(e){console.error(e)}return t}function Ce(e){var t={};try{t=JSON.parse(e),!Array.isArray(t)&&t||(console.error("Input to parseJSONStringObject was not parsed into object correctly!"),t={})}catch(e){console.error(e)}return t}function Ae(e,t){return e&&e.length>t?e.substr(0,t-1)+" ...":e}function je(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href;e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),r=n.exec(t);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null}function Pe(e,t){return $e.apply(this,arguments)}function $e(){return($e=p()(u.a.mark((function e(t,n){var r,a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne(n.id);case 2:r=e.sent,a=Oe(n.additional_params),s="Vorname;Nachname,E-Mail,Bestätigt,Anmeldedatum",a.forEach((function(e){s+=","+e.name})),r.forEach((function(e){e.additionalParams=Ce(e.additional_params),e.seminars.forEach((function(n){t[n.seminar_id]&&t[n.seminar_id].sessions[n.session_id].registrations.push([e.first_name,e.surname,e.contact_mail,"1"===e.confirmed?"Ja":"Nein",e.registration_date].concat(Ee()(a.map((function(t){return e.additionalParams[t.code]})))))}))})),Object.values(t).forEach((function(e){var t="data:text/csv;charset=utf-8,";Object.values(e.sessions).forEach((function(e){t+=e.name+"\n\n",t+=s+"\n",t+=e.registrations.map((function(e){return e.map((function(e){return e?'"'.concat(e,'"'):"-"})).join(",")})).join("\n"),t+="\n\n\n"})),Ne(t,e.name)}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ne(e,t){var n=encodeURI(e),r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",t.replaceAll(" ","_").replace(/\W/g,"")+".csv"),r.click()}var Re={name:"Events",components:{ListTable:m.a},data:function(){return{items:[],per_page:20,text:{select_bulk_action:"Mehrfachaktionen auswählen",bulk_actions:"Mehrfachaktionen",items:"Einträge",apply:"Übernehmen"},columns:{name:{label:"Event"},id:{label:"ID"},contact_mail:{label:"Kontakt"},created:{label:"Erstellt am"},default_slot_max:{label:"max. Teilnehmer je Seminar"}},actions:[{key:"edit",label:"Bearbeiten"},{key:"delete",label:"Löschen"}],bulk_actions:[{key:"delete",label:"Löschen"}]}},created:function(){var e=je("confirm_registration"),t=je("event_id");e&&t&&this.$router.push({path:"/".concat(t,"/edit-registration/").concat(e)}),this.loadItems()},methods:{loadItems:function(){var e=this;return p()(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w();case 2:if(!(n=t.sent).error){t.next=6;break}return alert(n.error),t.abrupt("return");case 6:e.items=n,e.per_page=e.items.length;case 8:case"end":return t.stop()}}),t)})))()},onActionClick:function(e,t){var n=this;return p()(u.a.mark((function r(){var a;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("delete"!==e){r.next=8;break}if(!confirm("Event "+t.name+" wirklich löschen? Dabei werden ALLE zugehörigen Daten (Seminar, Anmeldungen usw.) gelöscht!")){r.next=6;break}return r.next=4,x([t.id]);case 4:(a=r.sent).error?alert(a.error):(n.loadItems(),alert(t.name+" gelöscht!"));case 6:r.next=9;break;case 8:"edit"===e&&n.$router.push({path:"/".concat(t.id,"/edit-event")});case 9:case"end":return r.stop()}}),r)})))()},onBulkActionClick:function(e,t){var n=this;return p()(u.a.mark((function r(){var a;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("delete"!==e){r.next=6;break}if(!confirm("Gewählte Events wirklich löschen? Dabei werden ALLE zugehörigen Daten (Seminar, Anmeldungen usw.) gelöscht!")){r.next=6;break}return r.next=4,x(t);case 4:(a=r.sent).error?alert(a.error):(n.loadItems(),alert(a.success));case 6:case"end":return r.stop()}}),r)})))()}}},Ie=(n(73),Object(s.a)(Re,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"events"},[n("div",[n("h1",{staticClass:"events__headline"},[e._v("Events")]),e._v(" "),n("router-link",{staticClass:"page-title-action",attrs:{to:"/new-event"}},[e._v("\n      Neues Event erstellen\n    ")])],1),e._v(" "),n("list-table",{attrs:{rows:e.items,perPage:e.per_page,text:e.text,columns:e.columns,actions:e.actions,"bulk-actions":e.bulk_actions,"action-column":"name",notFound:"Keine Einträge gefunden"},on:{"action:click":e.onActionClick,"bulk:click":e.onBulkActionClick}})],1)}),[],!1,null,"78a48f20",null).exports),Te={name:"EditEventForm",props:{buttonText:{type:String,default:"Speichern"},event:{type:Object,default:function(){return{name:"",contact_mail:"",default_slot_max:25,additional_params:""}}}},data:function(){return{newEvent:{name:this.event.name,contact_mail:this.event.contact_mail,default_slot_max:this.event.default_slot_max,additional_params:this.event.additional_params}}},methods:{submit:function(e){e.preventDefault(),this.$emit("event-submit",this.newEvent)}}},De=(n(74),Object(s.a)(Te,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{staticClass:"edit-event-form",on:{submit:e.submit}},[n("table",{staticClass:"form-table",attrs:{role:"presentation"}},[n("tr",{staticClass:"form-field"},[n("th",{attrs:{scope:"row"}},[e._v("Name*")]),e._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newEvent.name,expression:"newEvent.name"}],attrs:{id:"crep-name",required:"",type:"text"},domProps:{value:e.newEvent.name},on:{input:function(t){t.target.composing||e.$set(e.newEvent,"name",t.target.value)}}})])]),e._v(" "),n("tr",{staticClass:"form-field"},[n("th",{attrs:{scope:"row"}},[e._v("Kontakt*")]),e._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newEvent.contact_mail,expression:"newEvent.contact_mail"}],attrs:{id:"crep-contact",required:"",type:"text"},domProps:{value:e.newEvent.contact_mail},on:{input:function(t){t.target.composing||e.$set(e.newEvent,"contact_mail",t.target.value)}}}),e._v(" "),n("p",{staticClass:"description"},[e._v("\n          E-Mail-Adressen der Organisatoren. Diese Personen werden bei einer\n          Registrierung benachrichtigt. Mehrere Adressen können mit Komma\n          getrennt eingegeben werden.\n        ")])])]),e._v(" "),n("tr",{staticClass:"form-field"},[n("th",{attrs:{scope:"row"}},[e._v("max. Teilnehmer je Seminar")]),e._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newEvent.default_slot_max,expression:"newEvent.default_slot_max"}],staticClass:"edit-event-form__number-field",attrs:{id:"crep-contact",type:"number"},domProps:{value:e.newEvent.default_slot_max},on:{input:function(t){t.target.composing||e.$set(e.newEvent,"default_slot_max",t.target.value)}}}),e._v(" "),n("p",{staticClass:"description"},[e._v("\n          Die Anzahl kann später pro Seminar geändert werden. Wenn es kein\n          Teilnehmer-Limit geben soll, bitte 0 eintragen.\n        ")])])]),e._v(" "),n("tr",{staticClass:"form-field"},[n("th",{attrs:{scope:"row"}},[e._v("Weitere Felder")]),e._v(" "),n("td",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newEvent.additional_params,expression:"newEvent.additional_params"}],domProps:{value:e.newEvent.additional_params},on:{input:function(t){t.target.composing||e.$set(e.newEvent,"additional_params",t.target.value)}}}),e._v(" "),n("p",{staticClass:"description"},[e._v("\n          Zusätzliche Felder für das Anmeldeformular können hier im JSON\n          Format eingetragen werden. Nur ändern, wenn man weiß, was man tut :)\n        ")])])])]),e._v(" "),e._m(0),e._v(" "),n("button",{staticClass:"button button-primary",attrs:{type:"submit"}},[e._v("\n    "+e._s(e.buttonText)+"\n  ")])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("em",[this._v("* = Pflichtfeld")])])}],!1,null,"7f2ff3ea",null).exports),Le={name:"NewEvent",components:{EditEventForm:De},methods:{createEvent:function(e){var t=this;return p()(u.a.mark((function n(){var r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,S(e);case 2:(r=n.sent).error?alert(r.error):(alert("Event ".concat(e.name," wurde angelegt!")),t.$router.push("/"));case 4:case"end":return n.stop()}}),n)})))()}}},Be=Object(s.a)(Le,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("Neues Event erstellen")]),this._v(" "),t("edit-event-form",{attrs:{"button-text":"Neues Event erstellen"},on:{"event-submit":this.createEvent}})],1)}),[],!1,null,null,null).exports;function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ve={name:"TagEditor",components:{ListTable:m.a},props:{tagsPreloaded:{type:Array,default:function(){return[]}},event_id:{type:Number,required:!0}},data:function(){return{newTag:{name:"",event_id:this.event_id},tags:this.tagsPreloaded.map((function(e){return Fe(Fe({},e),{},{editing:!1})})),per_page:50,text:{select_bulk_action:"Mehrfachaktionen auswählen",bulk_actions:"Mehrfachaktionen",items:"Einträge",apply:"Übernehmen"},columns:{name:{label:"Name"},count:{label:"Anzahl Seminare"}},actions:[{key:"edit",label:"Bearbeiten"},{key:"delete",label:"Löschen"}],bulk_actions:[{key:"delete",label:"Löschen"}]}},created:function(){this.tags.length||this.loadTags()},methods:{loadTags:function(){var e=this;return p()(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F(e.event_id);case 2:if(!(n=t.sent).error){t.next=6;break}return alert(n.error),t.abrupt("return");case 6:e.tags=n.map((function(e){return Fe(Fe({},e),{},{editing:!1})})),e.per_page=e.tags.length,e.$emit("update-event-data");case 9:case"end":return t.stop()}}),t)})))()},submit:function(e){var t=this;return p()(u.a.mark((function n(){var r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),n.next=3,K(t.newTag);case 3:(r=n.sent).error?alert(r.error):(alert("Schlagwort ".concat(t.newTag.name," wurde angelegt!")),t.newTag.name="",t.loadTags());case 5:case"end":return n.stop()}}),n)})))()},onActionClick:function(e,t){var n=this;return p()(u.a.mark((function r(){var a;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("delete"!==e){r.next=8;break}if(!confirm("Schlagwort "+t.name+" wirklich löschen?")){r.next=6;break}return r.next=4,z([t.id]);case 4:(a=r.sent).error?alert(a.error):(n.loadTags(),alert(t.name+" gelöscht!"));case 6:r.next=9;break;case 8:"edit"===e&&(t.editing=!0);case 9:case"end":return r.stop()}}),r)})))()},onBulkActionClick:function(e,t){var n=this;return p()(u.a.mark((function r(){var a;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("delete"!==e){r.next=6;break}if(!confirm("Gewählte Schlagwörter wirklich löschen?")){r.next=6;break}return r.next=4,z(t);case 4:(a=r.sent).error?alert(a.error):(n.loadTags(),alert(a.success));case 6:case"end":return r.stop()}}),r)})))()},submitUpdate:function(e,t){var n=this;return p()(u.a.mark((function r(){var a;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.preventDefault(),r.next=3,G(t);case 3:(a=r.sent).error?alert(a.error):n.loadTags();case 5:case"end":return r.stop()}}),r)})))()}}},ze=(n(75),Object(s.a)(Ve,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tag-editor"},[n("h1",[e._v("Schlagwörter")]),e._v(" "),n("div",{staticClass:"wp-clearfix",attrs:{id:"col-container"}},[n("div",{attrs:{id:"col-left"}},[n("div",{staticClass:"col-wrap"},[n("h2",[e._v("Neues Schlagwort erstellen")]),e._v(" "),n("form",{staticClass:"edit-tag-form form-wrap",on:{submit:e.submit}},[n("div",{staticClass:"form-field"},[n("label",{attrs:{for:"crep-tag-name"}},[e._v("Name")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newTag.name,expression:"newTag.name"}],attrs:{id:"crep-tag-name",type:"text"},domProps:{value:e.newTag.name},on:{input:function(t){t.target.composing||e.$set(e.newTag,"name",t.target.value)}}})]),e._v(" "),e._m(0)])])]),e._v(" "),n("div",{attrs:{id:"col-right"}},[n("div",{staticClass:"col-wrap"},[n("list-table",{attrs:{rows:e.tags,perPage:e.per_page,text:e.text,columns:e.columns,actions:e.actions,"bulk-actions":e.bulk_actions,"action-column":"name",notFound:"Keine Einträge gefunden"},on:{"action:click":e.onActionClick,"bulk:click":e.onBulkActionClick},scopedSlots:e._u([{key:"name",fn:function(t){return[t.row.editing?n("form",{staticClass:"tag-editor__update-form",on:{submit:function(n){return e.submitUpdate(n,t.row)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.row.name,expression:"data.row.name"}],attrs:{type:"text",required:""},domProps:{value:t.row.name},on:{input:function(n){n.target.composing||e.$set(t.row,"name",n.target.value)}}}),e._v(" "),n("button",{staticClass:"button button-primary",attrs:{type:"submit"}},[e._v("\n                Speichern\n              ")])]):n("div",[e._v(e._s(t.row.name))])]}}])})],1)])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"submit"},[t("button",{staticClass:"button button-primary",attrs:{type:"submit"}},[this._v("\n              Neues Schlagwort erstellen\n            ")])])}],!1,null,"3e92a8a0",null).exports);function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Je={name:"SessionEditor",components:{ListTable:m.a},props:{sessionsPreloaded:{type:Array,default:function(){return[]}},event_id:{type:Number,required:!0}},data:function(){return{newSession:{name:"",event_id:this.event_id},sessions:this.sessionsPreloaded.map((function(e){return Ke(Ke({},e),{},{editing:!1})})),per_page:50,text:{select_bulk_action:"Mehrfachaktionen auswählen",bulk_actions:"Mehrfachaktionen",items:"Einträge",apply:"Übernehmen"},columns:{name:{label:"Name"},count:{label:"Anzahl Seminare"}},actions:[{key:"edit",label:"Bearbeiten"},{key:"delete",label:"Löschen"}],bulk_actions:[{key:"delete",label:"Löschen"}]}},created:function(){this.sessions.length||this.loadSessions()},methods:{loadSessions:function(){var e=this;return p()(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W(e.event_id);case 2:if(!(n=t.sent).error){t.next=6;break}return alert(n.error),t.abrupt("return");case 6:e.sessions=n.map((function(e){return Ke(Ke({},e),{},{editing:!1})})),e.per_page=e.sessions.length,e.$emit("update-event-data");case 9:case"end":return t.stop()}}),t)})))()},submit:function(e){var t=this;return p()(u.a.mark((function n(){var r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),n.next=3,H(t.newSession);case 3:(r=n.sent).error?alert(r.error):(alert("Session ".concat(t.newSession.name," wurde angelegt!")),t.newSession.name="",t.loadSessions());case 5:case"end":return n.stop()}}),n)})))()},onActionClick:function(e,t){var n=this;return p()(u.a.mark((function r(){var a;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("delete"!==e){r.next=8;break}if(!confirm("Session "+t.name+" wirklich löschen?")){r.next=6;break}return r.next=4,X([t.id]);case 4:(a=r.sent).error?alert(a.error):(n.loadSessions(),alert(t.name+" gelöscht!"));case 6:r.next=9;break;case 8:"edit"===e&&(t.editing=!0);case 9:case"end":return r.stop()}}),r)})))()},onBulkActionClick:function(e,t){var n=this;return p()(u.a.mark((function r(){var a;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("delete"!==e){r.next=6;break}if(!confirm("Gewählte Sessions wirklich löschen?")){r.next=6;break}return r.next=4,X(t);case 4:(a=r.sent).error?alert(a.error):(n.loadSessions(),alert(a.success));case 6:case"end":return r.stop()}}),r)})))()},submitUpdate:function(e,t){var n=this;return p()(u.a.mark((function r(){var a;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.preventDefault(),r.next=3,ee(t);case 3:(a=r.sent).error?alert(a.error):n.loadSessions();case 5:case"end":return r.stop()}}),r)})))()}}},Ge=(n(76),Object(s.a)(Je,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"session-editor"},[n("h1",[e._v("Sessions")]),e._v(" "),n("div",{staticClass:"wp-clearfix",attrs:{id:"col-container"}},[n("div",{attrs:{id:"col-left"}},[n("div",{staticClass:"col-wrap"},[n("h2",[e._v("Neue Session erstellen")]),e._v(" "),n("form",{staticClass:"edit-session-form form-wrap",on:{submit:e.submit}},[n("div",{staticClass:"form-field"},[n("label",{attrs:{for:"crep-session-name"}},[e._v("Name")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newSession.name,expression:"newSession.name"}],attrs:{id:"crep-session-name",type:"text"},domProps:{value:e.newSession.name},on:{input:function(t){t.target.composing||e.$set(e.newSession,"name",t.target.value)}}})]),e._v(" "),e._m(0)])])]),e._v(" "),n("div",{attrs:{id:"col-right"}},[n("div",{staticClass:"col-wrap"},[n("list-table",{attrs:{rows:e.sessions,perPage:e.per_page,text:e.text,columns:e.columns,actions:e.actions,"bulk-actions":e.bulk_actions,"action-column":"name",notFound:"Keine Einträge gefunden"},on:{"action:click":e.onActionClick,"bulk:click":e.onBulkActionClick},scopedSlots:e._u([{key:"name",fn:function(t){return[t.row.editing?n("form",{staticClass:"session-editor__update-form",on:{submit:function(n){return e.submitUpdate(n,t.row)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.row.name,expression:"data.row.name"}],attrs:{type:"text",required:""},domProps:{value:t.row.name},on:{input:function(n){n.target.composing||e.$set(t.row,"name",n.target.value)}}}),e._v(" "),n("button",{staticClass:"button button-primary",attrs:{type:"submit"}},[e._v("\n                Speichern\n              ")])]):n("div",[e._v(e._s(t.row.name))])]}}])})],1)])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"submit"},[t("button",{staticClass:"button button-primary",attrs:{type:"submit"}},[this._v("\n              Neue Session erstellen\n            ")])])}],!1,null,"3458db70",null).exports);function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qe={name:"SeminarEditor",components:{ListTable:m.a},props:{event:{type:Object,required:!0},tags:{type:Array,default:function(){return[]}},sessions:{type:Array,default:function(){return[]}},speakers:{type:Array,default:function(){return[]}}},data:function(){return{event_id:this.event.id,newSeminar:{name:"",event_id:this.event.id},seminars:[],tag_map:{},session_map:{},speaker_map:{},per_page:50,text:{select_bulk_action:"Mehrfachaktionen auswählen",bulk_actions:"Mehrfachaktionen",items:"Einträge",apply:"Übernehmen"},columns:{name:{label:"Name",sortable:!0},number:{label:"Nummer",sortable:!0},description:{label:"Beschreibung"},speakers:{label:"Referenten",sortable:!0},sessions:{label:"Sessions"},registrations:{label:"Anmeldungen"},slot_max:{label:"max. Teilnehmerzahl",sortable:!0},tags:{label:"Schlagwörter",sortable:!0}},actions:[{key:"edit",label:"Bearbeiten"},{key:"delete",label:"Löschen"},{key:"export",label:"Exportieren"}],bulk_actions:[{key:"delete",label:"Löschen"}],sortBy:"number",sortOrder:"asc"}},created:function(){var e=this;this.speakers.forEach((function(t){e.speaker_map[t.id]="".concat(t.first_name," ").concat(t.surname)})),this.tags.forEach((function(t){e.tag_map[t.id]=t.name})),this.sessions.forEach((function(t){e.session_map[t.id]=t.name})),this.loadSeminars()},methods:{loadSeminars:function(){var e=this;return p()(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,me(e.event_id);case 2:if(!(n=t.sent).error){t.next=6;break}return alert(n.error),t.abrupt("return");case 6:e.seminars=n.map((function(t){return We(We({},t),{},{description:Ae(t.description,100),sessions:t.session_ids.map((function(t){return{name:e.session_map[t],id:t}})),tags:t.tag_ids.map((function(t){return e.tag_map[t]})),speakers:t.speaker_ids.map((function(t){return e.speaker_map[t]}))})})),e.per_page=e.seminars.length;case 8:case"end":return t.stop()}}),t)})))()},onActionClick:function(e,t){var n=this;return p()(u.a.mark((function r(){var a,s;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("delete"!==e){r.next=8;break}if(!confirm("Seminar "+t.name+" wirklich löschen?")){r.next=6;break}return r.next=4,fe([t.id]);case 4:(a=r.sent).error?alert(a.error):(n.loadSeminars(),alert(t.name+" gelöscht!"));case 6:r.next=16;break;case 8:if("edit"!==e){r.next=12;break}n.$router.push({path:"/".concat(n.event_id,"/edit-seminar/").concat(t.id)}),r.next=16;break;case 12:if("export"!==e){r.next=16;break}return s=f()({},t.id,{name:t.name,sessions:t.sessions.reduce((function(e,t){return e[t.id]={name:t.name,registrations:[]},e}),{})}),r.next=16,Pe(s,n.event);case 16:case"end":return r.stop()}}),r)})))()},onBulkActionClick:function(e,t){var n=this;return p()(u.a.mark((function r(){var a;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("delete"!==e){r.next=6;break}if(!confirm("Gewählte Seminare wirklich löschen?")){r.next=6;break}return r.next=4,fe(t);case 4:(a=r.sent).error?alert(a.error):(n.loadSeminars(),alert(a.success));case 6:case"end":return r.stop()}}),r)})))()},sortCallback:function(e,t){this.sortBy=e,this.sortOrder=t,this.seminars.sort((function(n,r){return n[e]<r[e]?"asc"===t?-1:1:n[e]>r[e]?"asc"===t?1:-1:0}))}}},Xe=(n(77),Object(s.a)(Qe,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"seminar-editor"},[n("div",[n("h1",{staticClass:"seminar-editor__headline"},[e._v("Seminare")]),e._v(" "),e.sessions.length?n("router-link",{staticClass:"page-title-action",attrs:{to:"/"+e.event_id+"/new-seminar"}},[e._v("\n      Neues Seminar erstellen\n    ")]):n("em",[e._v("  (Sie müssen zuerst Sessions anlegen, um Seminare erstellen zu\n      können)")])],1),e._v(" "),n("list-table",{attrs:{rows:e.seminars,perPage:e.per_page,text:e.text,columns:e.columns,actions:e.actions,"bulk-actions":e.bulk_actions,sortBy:e.sortBy,sortOrder:e.sortOrder,"action-column":"name",notFound:"Keine Einträge gefunden"},on:{"action:click":e.onActionClick,"bulk:click":e.onBulkActionClick,sort:e.sortCallback},scopedSlots:e._u([{key:"speakers",fn:function(t){return[n("ul",{staticClass:"seminar-editor__list"},e._l(t.row.speakers,(function(t){return n("li",{key:t},[e._v("\n          "+e._s(t)+"\n        ")])})),0)]}},{key:"sessions",fn:function(t){return[n("ul",{staticClass:"seminar-editor__list"},e._l(t.row.sessions,(function(t){return n("li",{key:t.id},[e._v("\n          "+e._s(t.name)+"\n        ")])})),0)]}},{key:"registrations",fn:function(t){return[n("ul",{staticClass:"seminar-editor__list"},e._l(t.row.sessions,(function(r){return n("li",{key:r.id},[e._v("\n          "+e._s(t.row.registrations[r.id])+"\n        ")])})),0)]}},{key:"tags",fn:function(t){return[n("ul",{staticClass:"seminar-editor__list"},e._l(t.row.tags,(function(t){return n("li",{key:t,staticClass:"seminar-editor__tag"},[e._v("\n          "+e._s(t)+"\n        ")])})),0)]}}])})],1)}),[],!1,null,"318fecea",null).exports),Ze={name:"RegistrationEditor",components:{ListTable:m.a},props:{event:{type:Object,required:!0},sessions:{type:Array,default:function(){return[]}},seminars:{type:Array,default:function(){return[]}},additionalParams:{type:String,default:"[]"}},data:function(){return{event_id:this.event.id,newRegistration:{name:"",event_id:this.event.id},seminar_map:{},additionalParams_parsed:Oe(this.additionalParams),registrations:[],per_page:50,text:{select_bulk_action:"Mehrfachaktionen auswählen",bulk_actions:"Mehrfachaktionen",items:"Einträge",apply:"Übernehmen"},columns:{first_name:{label:"Vorname"},surname:{label:"Nachname"},contact_mail:{label:"E-Mail"},confirmed:{label:"Bestätigt"},registration_date:{label:"Anmeldedatum"}},actions:[{key:"edit",label:"Bearbeiten"},{key:"delete",label:"Löschen"}],bulk_actions:[{key:"delete",label:"Löschen"}]}},created:function(){var e=this;this.seminars.forEach((function(t){e.seminar_map[t.id]=t.name})),this.loadRegistrations(),this.sessions.forEach((function(t){e.columns["session_".concat(t.id)]={label:t.name}})),this.additionalParams_parsed.forEach((function(t){e.columns[t.code]={label:t.name}}))},methods:{loadRegistrations:function(){var e=this;return p()(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ne(e.event_id);case 2:if(!(n=t.sent).error){t.next=6;break}return alert(n.error),t.abrupt("return");case 6:n.forEach((function(t){t.seminars.forEach((function(n){n&&(t["session_".concat(n.session_id)]=e.seminar_map[n.seminar_id])}));var n=Ce(t.additional_params);e.additionalParams_parsed.forEach((function(e){t[e.code]=n[e.code]||""}))})),e.registrations=n,e.per_page=e.registrations.length;case 9:case"end":return t.stop()}}),t)})))()},onActionClick:function(e,t){var n=this;return p()(u.a.mark((function r(){var a;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("delete"!==e){r.next=8;break}if(!confirm("Anmeldung für ".concat(t.first_name," ").concat(t.surname," wirklich löschen?"))){r.next=6;break}return r.next=4,ae([t.id]);case 4:(a=r.sent).error?alert(a.error):(n.loadRegistrations(),alert("Anmeldung für ".concat(t.first_name," ").concat(t.surname," gelöscht!")));case 6:r.next=9;break;case 8:"edit"===e&&n.$router.push({path:"/".concat(n.event_id,"/edit-registration/").concat(t.id)});case 9:case"end":return r.stop()}}),r)})))()},onBulkActionClick:function(e,t){var n=this;return p()(u.a.mark((function r(){var a;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("delete"!==e){r.next=6;break}if(!confirm("Gewählte Anmeldungen wirklich löschen?")){r.next=6;break}return r.next=4,ae(t);case 4:(a=r.sent).error?alert(a.error):(n.loadRegistrations(),alert(a.success));case 6:case"end":return r.stop()}}),r)})))()},exportRegistrations:function(e){e.preventDefault(),function(e,t){var n="data:text/csv;charset=utf-8,";n+="Vorname,Nachname,E-Mail,Bestätigt,Anmeldedatum",t.sessions.forEach((function(e){n+=","+e.name}));var r=Oe(t.additional_params);r.forEach((function(e){n+=","+e.name})),n+="\n",e.forEach((function(e){e.additionalParams=Ce(e.additional_params);var a=[e.first_name,e.surname,e.contact_mail,"1"===e.confirmed?"Ja":"Nein",e.registration_date].concat(Ee()(t.sessions.map((function(t){return e["session_"+t.id]||"-"}))),Ee()(r.map((function(t){return e.additionalParams[t.code]}))));n+=a.map((function(e){return e?'"'.concat(e,'"'):"-"})).join(",")+"\n"})),Ne(n,t.name)}(this.registrations,this.event)}}},He=(n(78),{name:"EditEvent",components:{EditEventForm:De,TagEditor:ze,SessionEditor:Ge,SeminarEditor:Xe,RegistrationEditor:Object(s.a)(Ze,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"registration-editor"},[n("div",[n("h1",{staticClass:"registration-editor__headline"},[e._v("Anmeldungen")]),e._v(" "),e.sessions.length?n("router-link",{staticClass:"page-title-action",attrs:{to:"/"+e.event_id+"/new-registration"}},[e._v("\n      Neue Anmeldung erstellen\n    ")]):n("em",[e._v("  (Sie müssen zuerst Sessions und Seminare anlegen, um Anmeldungen\n      erstellen zu können)")]),e._v(" "),n("button",{staticClass:"page-title-action",attrs:{type:"button"},on:{click:e.exportRegistrations}},[e._v("\n      Anmeldungen exportieren\n    ")])],1),e._v(" "),n("list-table",{attrs:{rows:e.registrations,perPage:e.per_page,text:e.text,columns:e.columns,actions:e.actions,"bulk-actions":e.bulk_actions,"action-column":"first_name",notFound:"Keine Einträge gefunden"},on:{"action:click":e.onActionClick,"bulk:click":e.onBulkActionClick},scopedSlots:e._u([{key:"confirmed",fn:function(t){return[e._v("\n      "+e._s("1"===t.row.confirmed?"Ja":"Nein")+"\n    ")]}}])})],1)}),[],!1,null,"9db76e3c",null).exports},data:function(){return{id:parseInt(this.$route.params.event_id),event:null,activeTab:"seminars"}},created:function(){this.loadEvent()},methods:{loadEvent:function(){var e=this;return p()(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A(e.id);case 2:e.event=t.sent;case 3:case"end":return t.stop()}}),t)})))()},updateEvent:function(e){var t=this;return p()(u.a.mark((function n(){var r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.id=t.id,n.next=3,O(e);case 3:(r=n.sent).error?alert(r.error):(alert("Event ".concat(e.name," wurde aktualisiert!")),t.$router.push("/"));case 5:case"end":return n.stop()}}),n)})))()},changeTab:function(e,t){e.preventDefault(),this.activeTab=t},refresh:function(){this.loadEvent()}}}),Ye=(n(79),Object(s.a)(He,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v(e._s(e.event?e.event.name:"Lade Event-Daten ..."))]),e._v(" "),e.event?[n("edit-event-form",{attrs:{"button-text":"Aktualisieren",event:e.event},on:{"event-submit":e.updateEvent}}),e._v(" "),n("nav",{staticClass:"nav-tab-wrapper wp-clearfix edit-event__nav"},[n("a",{staticClass:"nav-tab",class:["seminars"===e.activeTab?"nav-tab-active":""],attrs:{href:"#"},on:{click:function(t){return e.changeTab(t,"seminars")}}},[e._v("Seminare")]),e._v(" "),n("a",{staticClass:"nav-tab",class:["registrations"===e.activeTab?"nav-tab-active":""],attrs:{href:"#"},on:{click:function(t){return e.changeTab(t,"registrations")}}},[e._v("Anmeldungen")]),e._v(" "),n("a",{staticClass:"nav-tab",class:["sessions"===e.activeTab?"nav-tab-active":""],attrs:{href:"#"},on:{click:function(t){return e.changeTab(t,"sessions")}}},[e._v("Sessions")]),e._v(" "),n("a",{staticClass:"nav-tab",class:["tags"===e.activeTab?"nav-tab-active":""],attrs:{href:"#"},on:{click:function(t){return e.changeTab(t,"tags")}}},[e._v("Schlagwörter")])]),e._v(" "),"seminars"===e.activeTab?n("seminar-editor",{attrs:{tags:e.event.tags,sessions:e.event.sessions,speakers:e.event.speakers,event:e.event}}):e._e(),e._v(" "),"registrations"===e.activeTab?n("registration-editor",{attrs:{sessions:e.event.sessions,seminars:e.event.seminars,"additional-params":e.event.additional_params,event:e.event},on:{"update-event-data":e.refresh}}):e._e(),e._v(" "),"sessions"===e.activeTab?n("session-editor",{attrs:{"sessions-preloaded":e.event.sessions,event_id:e.id},on:{"update-event-data":e.refresh}}):e._e(),e._v(" "),"tags"===e.activeTab?n("tag-editor",{attrs:{"tags-preloaded":e.event.tags,event_id:e.id},on:{"update-event-data":e.refresh}}):e._e()]:e._e()],2)}),[],!1,null,"6f02a8c1",null).exports),et=n(8),tt=n.n(et),nt=(n(29),{name:"EditSeminarForm",components:{Multiselect:tt.a},props:{buttonText:{type:String,default:"Speichern"},seminarId:{type:Number},eventId:{type:Number,required:!0}},data:function(){return{newSeminar:{number:null,name:"",description:"",slot_max:null},event:{sessions:[],tags:[],speakers:[]},sessionsValue:[],sessionsOptions:[],speakersValue:[],speakersOptions:[],tagsValue:[],tagsOptions:[]}},created:function(){var e=this;return p()(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=null,!e.seminarId){t.next=9;break}return t.next=4,we(e.$route.params.seminar_id);case 4:n=t.sent,e.newSeminar.name=n.name,e.newSeminar.number=n.number,e.newSeminar.description=n.description,e.newSeminar.slot_max=n.slot_max;case 9:return t.next=11,A(e.eventId);case 11:e.event=t.sent,e.event.sessions.forEach((function(t){e.sessionsOptions.push({name:t.name,code:t.id}),n&&n.session_ids.includes(t.id)&&e.sessionsValue.push({name:t.name,code:t.id})})),e.event.speakers.forEach((function(t){e.speakersOptions.push({name:"".concat(t.first_name," ").concat(t.surname),code:t.id}),n&&n.speaker_ids.includes(t.id)&&e.speakersValue.push({name:"".concat(t.first_name," ").concat(t.surname),code:t.id})})),e.event.tags.forEach((function(t){e.tagsOptions.push({name:t.name,code:t.id}),n&&n.tag_ids.includes(t.id)&&e.tagsValue.push({name:t.name,code:t.id})}));case 15:case"end":return t.stop()}}),t)})))()},methods:{submit:function(e){e.preventDefault(),this.newSeminar.session_ids=this.sessionsValue.map((function(e){return e.code})),this.newSeminar.speaker_ids=this.speakersValue.map((function(e){return e.code})),this.newSeminar.tag_ids=this.tagsValue.map((function(e){return e.code})),this.newSeminar.event_id=this.eventId,this.$emit("seminar-submit",this.newSeminar)}}}),rt=(n(80),Object(s.a)(nt,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{staticClass:"edit-seminar-form",on:{submit:e.submit}},[n("table",{staticClass:"form-table",attrs:{role:"presentation"}},[n("tr",{staticClass:"form-field"},[n("th",{attrs:{scope:"row"}},[e._v("Nummer")]),e._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newSeminar.number,expression:"newSeminar.number"}],staticClass:"edit-seminar-form__number-field",attrs:{id:"crep-number",type:"number"},domProps:{value:e.newSeminar.number},on:{input:function(t){t.target.composing||e.$set(e.newSeminar,"number",t.target.value)}}}),e._v(" "),n("p",{staticClass:"description"},[e._v("\n          Optionaler Wert. Falls angegeben, werden Seminare in der Übersicht\n          danach sortiert.\n        ")])])]),e._v(" "),n("tr",{staticClass:"form-field"},[n("th",{attrs:{scope:"row"}},[e._v("Name*")]),e._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newSeminar.name,expression:"newSeminar.name"}],attrs:{id:"crep-name",required:"",type:"text"},domProps:{value:e.newSeminar.name},on:{input:function(t){t.target.composing||e.$set(e.newSeminar,"name",t.target.value)}}})])]),e._v(" "),n("tr",{staticClass:"form-field"},[n("th",{attrs:{scope:"row"}},[e._v("Beschreibung")]),e._v(" "),n("td",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newSeminar.description,expression:"newSeminar.description"}],attrs:{id:"crep-description"},domProps:{value:e.newSeminar.description},on:{input:function(t){t.target.composing||e.$set(e.newSeminar,"description",t.target.value)}}})])]),e._v(" "),n("tr",{staticClass:"form-field"},[n("th",{attrs:{scope:"row"}},[e._v("max. Teilnehmerzahl")]),e._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newSeminar.slot_max,expression:"newSeminar.slot_max"}],staticClass:"edit-seminar-form__number-field",attrs:{id:"crep-contact",type:"number"},domProps:{value:e.newSeminar.slot_max},on:{input:function(t){t.target.composing||e.$set(e.newSeminar,"slot_max",t.target.value)}}}),e._v(" "),n("p",{staticClass:"description"},[e._v("\n          Wenn es kein Teilnehmer-Limit geben soll, bitte 0 eintragen. Frei\n          lassen, um den Standardwert des Events zu übernehmen.\n        ")])])]),e._v(" "),n("tr",{staticClass:"form-field"},[n("th",{attrs:{scope:"row"}},[e._v("Sessions*")]),e._v(" "),n("td",[n("multiselect",{staticClass:"edit-seminar-form__fullwidth-field",attrs:{"tag-placeholder":"Session nicht gefunden",placeholder:"Suche nach einer Session",selectedLabel:"Ausgewählt",selectLabel:"Auswählen",deselectLabel:"Entfernen",label:"name","track-by":"code",options:e.sessionsOptions,multiple:!0,taggable:!0},model:{value:e.sessionsValue,callback:function(t){e.sessionsValue=t},expression:"sessionsValue"}},[n("template",{slot:"noOptions"},[e._v("Keine Einträge.")]),e._v(" "),n("template",{slot:"noResults"},[e._v("Keine Einträge gefunden. Ändere deine Suche!")]),e._v(" "),n("template",{slot:"maxElements"},[e._v("Entferne zunächst eine ausgewählte Option, um eine andere\n            auszuwählen.")])],2)],1)]),e._v(" "),n("tr",{staticClass:"form-field"},[n("th",{attrs:{scope:"row"}},[e._v("Referenten")]),e._v(" "),n("td",[n("multiselect",{staticClass:"edit-seminar-form__fullwidth-field",attrs:{"tag-placeholder":"Referent nicht gefunden",placeholder:"Suche nach einem Referenten",selectedLabel:"Ausgewählt",selectLabel:"Auswählen",deselectLabel:"Entfernen",label:"name","track-by":"code",options:e.speakersOptions,multiple:!0,taggable:!0},model:{value:e.speakersValue,callback:function(t){e.speakersValue=t},expression:"speakersValue"}},[n("template",{slot:"noOptions"},[e._v("Keine Einträge.")]),e._v(" "),n("template",{slot:"noResults"},[e._v("Keine Einträge gefunden. Ändere deine Suche!")]),e._v(" "),n("template",{slot:"maxElements"},[e._v("Entferne zunächst eine ausgewählte Option, um eine andere\n            auszuwählen.")])],2)],1)]),e._v(" "),n("tr",{staticClass:"form-field"},[n("th",{attrs:{scope:"row"}},[e._v("Schlagwörter")]),e._v(" "),n("td",[n("multiselect",{staticClass:"edit-seminar-form__fullwidth-field",attrs:{"tag-placeholder":"Schlagwort nicht gefunden",placeholder:"Suche nach einem Schlagwort",selectedLabel:"Ausgewählt",selectLabel:"Auswählen",deselectLabel:"Entfernen",label:"name","track-by":"code",options:e.tagsOptions,multiple:!0,taggable:!0},model:{value:e.tagsValue,callback:function(t){e.tagsValue=t},expression:"tagsValue"}},[n("template",{slot:"noOptions"},[e._v("Keine Einträge.")]),e._v(" "),n("template",{slot:"noResults"},[e._v("Keine Einträge gefunden. Ändere deine Suche!")]),e._v(" "),n("template",{slot:"maxElements"},[e._v("Entferne zunächst eine ausgewählte Option, um eine andere\n            auszuwählen.")])],2)],1)])]),e._v(" "),e._m(0),e._v(" "),n("button",{staticClass:"button button-primary",attrs:{type:"submit"}},[e._v("\n    "+e._s(e.buttonText)+"\n  ")])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("em",[this._v("* = Pflichtfeld")])])}],!1,null,"362768fc",null).exports),at={name:"NewSeminar",components:{EditSeminarForm:rt},data:function(){return{eventId:parseInt(this.$route.params.event_id)}},methods:{createSeminar:function(e){var t=this;return p()(u.a.mark((function n(){var r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,he(e);case 2:(r=n.sent).error?alert(r.error):(alert("Seminar ".concat(e.name," wurde angelegt!")),t.$router.push({path:"/".concat(t.eventId,"/edit-event")}));case 4:case"end":return n.stop()}}),n)})))()}}},st=Object(s.a)(at,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("Neues Seminar erstellen")]),this._v(" "),t("edit-seminar-form",{attrs:{"button-text":"Neues Seminar erstellen","event-id":this.eventId},on:{"seminar-submit":this.createSeminar}})],1)}),[],!1,null,null,null).exports,it={name:"EditSeminar",components:{EditSeminarForm:rt},data:function(){return{id:parseInt(this.$route.params.seminar_id),eventId:parseInt(this.$route.params.event_id)}},methods:{updateSeminar:function(e){var t=this;return p()(u.a.mark((function n(){var r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.id=t.id,n.next=3,be(e);case 3:(r=n.sent).error?(alert(r.error),t.$router.go()):(alert("Seminar ".concat(e.name," wurde aktualisiert!")),t.$router.push({path:"/".concat(t.eventId,"/edit-event")}));case 5:case"end":return n.stop()}}),n)})))()}}},ot=Object(s.a)(it,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("Seminar bearbeiten")]),this._v(" "),t("edit-seminar-form",{attrs:{"button-text":"Aktualisieren","seminar-id":this.id,"event-id":this.eventId},on:{"seminar-submit":this.updateSeminar}})],1)}),[],!1,null,null,null).exports,ct={name:"EditRegistrationForm",components:{Multiselect:tt.a},props:{buttonText:{type:String,default:"Speichern"},deleteButtonText:{type:String,default:"Löschen"},registrationId:{type:Number},eventId:{type:Number,required:!0}},data:function(){return{newRegistration:{first_name:"",surname:"",contact_mail:"",event_id:this.eventId,additional_params_object:{},confirmed:"1",additional_params:""},event:{sessions:[],seminars:[]},seminar_map:{},seminarSelections:[],additionalParamFields:[],seminars:[],isConfirmation:!1,confirmAndMail:!0}},created:function(){var e=this;return p()(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=null,e.isConfirmation=!!je("confirm_registration"),!e.registrationId){t.next=12;break}return t.next=5,le(e.$route.params.registration_id);case 5:n=t.sent,e.newRegistration.first_name=n.first_name,e.newRegistration.surname=n.surname,e.newRegistration.contact_mail=n.contact_mail,e.newRegistration.additional_params=n.additional_params,e.newRegistration.additional_params_object=Ce(n.additional_params),e.newRegistration.confirmed=n.confirmed;case 12:return t.next=14,A(e.eventId);case 14:return e.event=t.sent,t.next=17,me(e.eventId);case 17:e.seminars=t.sent,e.seminars.forEach((function(t){e.seminar_map[t.id]=t})),e.event.sessions.forEach((function(t){var r={label:t.name,id:t.id,value:{},options:[]};t.seminar_ids.forEach((function(n){r.options.push({code:n,name:e.seminar_map[n].name,$isDisabled:0!==e.seminar_map[n].slot_max&&e.seminar_map[n].slot_max<=e.seminar_map[n].registrations[t.id]})})),n&&n.seminars&&n.seminars.forEach((function(n){n.session_id===t.id&&(r.value={code:n.seminar_id,name:e.seminar_map[n.seminar_id].name})})),e.seminarSelections.push(r)})),e.additionalParamFields=Oe(e.event.additional_params),e.additionalParamFields.forEach((function(t){Object.keys(e.newRegistration.additional_params_object).includes(t.code)||(e.newRegistration.additional_params_object[t.code]="")}));case 22:case"end":return t.stop()}}),t)})))()},methods:{submit:function(e){var t=this;e.preventDefault(),this.newRegistration.seminars=[],this.seminarSelections.forEach((function(e){e.value&&e.value.code&&t.newRegistration.seminars.push({session_id:e.id,seminar_id:e.value.code})})),this.newRegistration.additional_params=JSON.stringify(this.newRegistration.additional_params_object),this.newRegistration.is_confirmation="0"===this.newRegistration.confirmed&&this.confirmAndMail,this.newRegistration.confirmed=this.confirmAndMail?"1":"0",this.$emit("registration-submit",this.newRegistration)},deleteRegistration:function(e){var t=this;return p()(u.a.mark((function n(){var r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),!t.registrationId){n.next=15;break}if(!confirm("Anmeldung für ".concat(t.newRegistration.first_name," ").concat(t.newRegistration.surname," wirklich löschen"))){n.next=14;break}return n.next=5,ae([t.registrationId]);case 5:if(!(r=n.sent).error){n.next=11;break}return alert(r.error),n.abrupt("return");case 11:alert("Anmeldung für ".concat(t.newRegistration.first_name," ").concat(t.newRegistration.surname," gelöscht!"));case 12:n.next=15;break;case 14:return n.abrupt("return");case 15:t.$router.push({path:"/".concat(t.eventId,"/edit-event")});case 16:case"end":return n.stop()}}),n)})))()}}},ut=(n(81),Object(s.a)(ct,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{staticClass:"edit-registration-form",on:{submit:e.submit}},[n("h2",[e._v("Persönliche Daten")]),e._v(" "),n("table",{staticClass:"form-table",attrs:{role:"presentation"}},[n("tr",{staticClass:"form-field"},[n("th",{attrs:{scope:"row"}},[e._v("Vorname*")]),e._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newRegistration.first_name,expression:"newRegistration.first_name"}],attrs:{required:"",type:"text"},domProps:{value:e.newRegistration.first_name},on:{input:function(t){t.target.composing||e.$set(e.newRegistration,"first_name",t.target.value)}}})])]),e._v(" "),n("tr",{staticClass:"form-field"},[n("th",{attrs:{scope:"row"}},[e._v("Nachname*")]),e._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newRegistration.surname,expression:"newRegistration.surname"}],attrs:{required:"",type:"text"},domProps:{value:e.newRegistration.surname},on:{input:function(t){t.target.composing||e.$set(e.newRegistration,"surname",t.target.value)}}})])]),e._v(" "),n("tr",{staticClass:"form-field"},[n("th",{attrs:{scope:"row"}},[e._v("E-Mail")]),e._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newRegistration.contact_mail,expression:"newRegistration.contact_mail"}],attrs:{type:"email"},domProps:{value:e.newRegistration.contact_mail},on:{input:function(t){t.target.composing||e.$set(e.newRegistration,"contact_mail",t.target.value)}}})])])]),e._v(" "),n("h2",[e._v("Seminare auswählen")]),e._v(" "),n("table",{staticClass:"form-table",attrs:{role:"presentation"}},e._l(e.seminarSelections,(function(t){return n("tr",{key:t.id,staticClass:"form-field"},[n("th",{attrs:{scope:"row"}},[e._v(e._s(t.label))]),e._v(" "),n("td",[n("multiselect",{staticClass:"edit-registration-form__fullwidth-field",attrs:{placeholder:"Suche nach einem Seminar",selectedLabel:"Ausgewählt",selectLabel:"Auswählen",deselectLabel:"Entfernen",label:"name","track-by":"code",options:t.options},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"session.value"}},[n("template",{slot:"noOptions"},[e._v("Keine Einträge.")]),e._v(" "),n("template",{slot:"noResults"},[e._v("Keine Einträge gefunden. Ändere deine Suche!")]),e._v(" "),n("template",{slot:"maxElements"},[e._v("Entferne zunächst eine ausgewählte Option, um eine andere\n            auszuwählen.")])],2)],1)])})),0),e._v(" "),e.additionalParamFields.length?[n("h2",[e._v("Sonstiges")]),e._v(" "),n("table",{staticClass:"form-table",attrs:{role:"presentation"}},e._l(e.additionalParamFields,(function(t){return n("tr",{key:t.code,staticClass:"form-field"},[n("th",{attrs:{scope:"row"}},[e._v(e._s(t.name+(t.required?"*":"")))]),e._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newRegistration.additional_params_object[t.code],expression:"newRegistration.additional_params_object[param.code]"}],attrs:{type:"text",required:t.required},domProps:{value:e.newRegistration.additional_params_object[t.code]},on:{input:function(n){n.target.composing||e.$set(e.newRegistration.additional_params_object,t.code,n.target.value)}}})])])})),0)]:e._e(),e._v(" "),"0"===e.newRegistration.confirmed?n("p",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.confirmAndMail,expression:"confirmAndMail"}],attrs:{type:"checkbox",id:"crep_confirmed"},domProps:{checked:Array.isArray(e.confirmAndMail)?e._i(e.confirmAndMail,null)>-1:e.confirmAndMail},on:{change:function(t){var n=e.confirmAndMail,r=t.target,a=!!r.checked;if(Array.isArray(n)){var s=e._i(n,null);r.checked?s<0&&(e.confirmAndMail=n.concat([null])):s>-1&&(e.confirmAndMail=n.slice(0,s).concat(n.slice(s+1)))}else e.confirmAndMail=a}}}),e._v(" "),e._m(0)]):e._e(),e._v(" "),e._m(1),e._v(" "),n("button",{staticClass:"button button-primary",attrs:{type:"submit"}},[e._v("\n    "+e._s(e.isConfirmation?"Anmeldung bestätigen":e.buttonText)+"\n  ")]),e._v(" "),n("span",{attrs:{id:"delete-link"}},[n("a",{staticClass:"delete",attrs:{href:"#"},on:{click:e.deleteRegistration}},[e._v("\n      "+e._s(e.deleteButtonText)+"\n    ")])])],2)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("label",{attrs:{for:"crep_confirmed"}},[t("strong",[this._v("Diese Anmeldung bestätigen (der Teilnehmer erhält eine\n        Bestätigungsmail)")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("em",[this._v("* = Pflichtfeld")])])}],!1,null,"06a55363",null).exports),lt={name:"NewRegistration",components:{EditRegistrationForm:ut},data:function(){return{eventId:parseInt(this.$route.params.event_id)}},methods:{createRegistration:function(e){var t=this;return p()(u.a.mark((function n(){var r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.confirmed=1,n.next=3,ie(e);case 3:(r=n.sent).error?alert(r.error):(alert("Anmeldung für ".concat(e.first_name," ").concat(e.surname," wurde angelegt!")),t.$router.push({path:"/".concat(t.eventId,"/edit-event")}));case 5:case"end":return n.stop()}}),n)})))()}}},pt=Object(s.a)(lt,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("Neue Anmeldung erstellen")]),this._v(" "),t("edit-registration-form",{attrs:{"button-text":"Neue Anmeldung erstellen","delete-button-text":"Verwerfen","event-id":this.eventId},on:{"registration-submit":this.createRegistration}})],1)}),[],!1,null,null,null).exports,mt={name:"EditRegistration",components:{EditRegistrationForm:ut},data:function(){return{id:parseInt(this.$route.params.registration_id),eventId:parseInt(this.$route.params.event_id)}},methods:{updateRegistration:function(e){var t=this;return p()(u.a.mark((function n(){var r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.id=t.id,n.next=3,ce(e);case 3:(r=n.sent).error?alert(r.error):(alert("Anmeldung für ".concat(e.first_name," ").concat(e.surname," wurde aktualisiert!")),t.$router.push({path:"/".concat(t.eventId,"/edit-event")}));case 5:case"end":return n.stop()}}),n)})))()}}},dt=Object(s.a)(mt,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("Anmeldung bearbeiten")]),this._v(" "),t("edit-registration-form",{attrs:{"button-text":"Aktualisieren","registration-id":this.id,"event-id":this.eventId},on:{"registration-submit":this.updateRegistration}})],1)}),[],!1,null,null,null).exports;function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ht={name:"Speakers",components:{ListTable:m.a},data:function(){return{speakers:[],per_page:20,text:{select_bulk_action:"Mehrfachaktionen auswählen",bulk_actions:"Mehrfachaktionen",items:"Einträge",apply:"Übernehmen"},columns:{first_name:{label:"Vorname"},surname:{label:"Nachname"},location:{label:"Ort"},description:{label:"Beschreibung"},path_to_picture:{label:"Bild"}},actions:[{key:"edit",label:"Bearbeiten"},{key:"delete",label:"Löschen"}],bulk_actions:[{key:"delete",label:"Löschen"}]}},created:function(){this.loadItems()},methods:{loadItems:function(){var e=this;return p()(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P();case 2:if(!(n=t.sent).error){t.next=6;break}return alert(n.error),t.abrupt("return");case 6:e.speakers=n.map((function(e){return vt(vt({},e),{},{description:Ae(e.description,100)})})),e.per_page=e.speakers.length;case 8:case"end":return t.stop()}}),t)})))()},onActionClick:function(e,t){var n=this;return p()(u.a.mark((function r(){var a;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("delete"!==e){r.next=8;break}if(!confirm(t.first_name+" "+t.surname+" wirklich löschen?")){r.next=6;break}return r.next=4,N([t.id]);case 4:(a=r.sent).error?alert(a.error):(n.loadItems(),alert(t.first_name+" "+t.surname+" gelöscht!"));case 6:r.next=9;break;case 8:"edit"===e&&n.$router.push({path:"/edit-speaker/".concat(t.id)});case 9:case"end":return r.stop()}}),r)})))()},onBulkActionClick:function(e,t){var n=this;return p()(u.a.mark((function r(){var a;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("delete"!==e){r.next=6;break}if(!confirm("Gewählte Referenten wirklich löschen?")){r.next=6;break}return r.next=4,N(t);case 4:(a=r.sent).error?alert(a.error):(n.loadItems(),alert(a.success));case 6:case"end":return r.stop()}}),r)})))()}}},_t=(n(82),Object(s.a)(ht,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"speakers"},[n("div",[n("h1",{staticClass:"speakers__headline"},[e._v("Referenten")]),e._v(" "),n("router-link",{staticClass:"page-title-action",attrs:{to:"/new-speaker"}},[e._v("\n      Neuen Referent anlegen\n    ")])],1),e._v(" "),n("list-table",{attrs:{rows:e.speakers,perPage:e.per_page,text:e.text,columns:e.columns,actions:e.actions,"bulk-actions":e.bulk_actions,"action-column":"first_name",notFound:"Keine Einträge gefunden"},on:{"action:click":e.onActionClick,"bulk:click":e.onBulkActionClick}})],1)}),[],!1,null,"1afca12d",null).exports),bt={name:"EditSpeakerForm",props:{buttonText:{type:String,default:"Speichern"},speaker:{type:Object,default:function(){return{first_name:"",surname:"",location:"",description:"",path_to_picture:""}}}},data:function(){return{newSpeaker:{first_name:this.speaker.first_name,surname:this.speaker.surname,location:this.speaker.location,description:this.speaker.description,path_to_picture:this.speaker.path_to_picture}}},methods:{submit:function(e){e.preventDefault(),this.$emit("speaker-submit",this.newSpeaker)}}},gt=(n(83),Object(s.a)(bt,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{staticClass:"edit-speaker-form",on:{submit:e.submit}},[n("table",{staticClass:"form-table",attrs:{role:"presentation"}},[n("tr",{staticClass:"form-field"},[n("th",{attrs:{scope:"row"}},[e._v("Vorname*")]),e._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newSpeaker.first_name,expression:"newSpeaker.first_name"}],attrs:{id:"crep-first_name",required:"",type:"text"},domProps:{value:e.newSpeaker.first_name},on:{input:function(t){t.target.composing||e.$set(e.newSpeaker,"first_name",t.target.value)}}})])]),e._v(" "),n("tr",{staticClass:"form-field"},[n("th",{attrs:{scope:"row"}},[e._v("Nachname*")]),e._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newSpeaker.surname,expression:"newSpeaker.surname"}],attrs:{id:"crep-surname",required:"",type:"text"},domProps:{value:e.newSpeaker.surname},on:{input:function(t){t.target.composing||e.$set(e.newSpeaker,"surname",t.target.value)}}})])]),e._v(" "),n("tr",{staticClass:"form-field"},[n("th",{attrs:{scope:"row"}},[e._v("Ort")]),e._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newSpeaker.location,expression:"newSpeaker.location"}],attrs:{id:"crep-location",type:"text"},domProps:{value:e.newSpeaker.location},on:{input:function(t){t.target.composing||e.$set(e.newSpeaker,"location",t.target.value)}}})])]),e._v(" "),n("tr",{staticClass:"form-field"},[n("th",{attrs:{scope:"row"}},[e._v("Beschreibung")]),e._v(" "),n("td",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newSpeaker.description,expression:"newSpeaker.description"}],attrs:{id:"crep-description"},domProps:{value:e.newSpeaker.description},on:{input:function(t){t.target.composing||e.$set(e.newSpeaker,"description",t.target.value)}}})])]),e._v(" "),n("tr",{staticClass:"form-field"},[n("th",{attrs:{scope:"row"}},[e._v("Pfad zum Bild")]),e._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newSpeaker.path_to_picture,expression:"newSpeaker.path_to_picture"}],attrs:{id:"crep-path_to_picture",type:"text"},domProps:{value:e.newSpeaker.path_to_picture},on:{input:function(t){t.target.composing||e.$set(e.newSpeaker,"path_to_picture",t.target.value)}}})])])]),e._v(" "),e._m(0),e._v(" "),n("button",{staticClass:"button button-primary",attrs:{type:"submit"}},[e._v("\n    "+e._s(e.buttonText)+"\n  ")])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("em",[this._v("* = Pflichtfeld")])])}],!1,null,"7d9dcf89",null).exports),wt={name:"NewSpeaker",components:{EditSpeakerForm:gt},methods:{createSpeaker:function(e){var t=this;return p()(u.a.mark((function n(){var r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,I(e);case 2:(r=n.sent).error?alert(r.error):(alert(" ".concat(e.first_name," ").concat(e.surname," wurde angelegt!")),t.$router.push("/speakers"));case 4:case"end":return n.stop()}}),n)})))()}}},kt=Object(s.a)(wt,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("Neuen Referenten erstellen")]),this._v(" "),t("edit-speaker-form",{attrs:{"button-text":"Neuen Referenten erstellen"},on:{"speaker-submit":this.createSpeaker}})],1)}),[],!1,null,null,null).exports,xt={name:"EditSpeaker",components:{EditSpeakerForm:gt},data:function(){return{id:parseInt(this.$route.params.speaker_id),speaker:null}},created:function(){var e=this;return p()(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B(e.id);case 2:e.speaker=t.sent;case 3:case"end":return t.stop()}}),t)})))()},methods:{updateSpeaker:function(e){var t=this;return p()(u.a.mark((function n(){var r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.id=t.id,n.next=3,D(e);case 3:(r=n.sent).error?alert(r.error):(alert("".concat(e.first_name," ").concat(e.surname," wurde aktualisiert!")),t.$router.push("/speakers"));case 5:case"end":return n.stop()}}),n)})))()}}},yt=Object(s.a)(xt,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("Referent bearbeiten")]),this._v(" "),this.speaker?t("edit-speaker-form",{attrs:{"button-text":"Aktualisieren",speaker:this.speaker},on:{"speaker-submit":this.updateSpeaker}}):this._e()],1)}),[],!1,null,null,null).exports;r.a.use(o.a);var St=new o.a({routes:[{path:"/new-event",name:"NewEvent",component:Be},{path:"/:event_id/edit-event",name:"EditEvent",component:Ye},{path:"/:event_id/new-seminar",name:"NewSeminar",component:st},{path:"/:event_id/edit-seminar/:seminar_id",name:"EditSeminar",component:ot},{path:"/:event_id/new-registration",name:"NewRegistration",component:pt},{path:"/:event_id/edit-registration/:registration_id",name:"EditRegistration",component:dt},{path:"/new-speaker",name:"NewSpeaker",component:kt},{path:"/edit-speaker/:speaker_id",name:"EditSpeaker",component:yt},{path:"/speakers",name:"Speakers",component:_t},{path:"/",name:"Events",component:Ie}]});var Et=function(e){var t=jQuery,n=t("#toplevel_page_"+e),r=window.location.href,a=r.substr(r.indexOf("admin.php"));n.on("click","a",(function(){var e=t(this);t("ul.wp-submenu li",n).removeClass("current"),e.hasClass("wp-has-submenu")?t("li.wp-first-item",n).addClass("current"):e.parents("li").addClass("current")})),t("ul.wp-submenu a",n).each((function(e,n){t(n).attr("href")!==a||t(n).parent().addClass("current")}))};r.a.config.productionTip=!1,new r.a({el:"#vue-admin-app",router:St,render:function(e){return e(i)}}),Et("vue-app")}],[[86,0,1]]]);